{"version":3,"sources":["GoogleMapController.js"],"names":["MapDOM","infoWindow","document","querySelector","BranchListDOM","markers","locationsInput","google","gestureHandling","zoom","mapOption","styles","featureType","elementType","stylers","color","saturation","visibility","locationLatLng","map","bounds","extend","showInfoMarkerOnMap","fitBounds","maps","LatLngBounds","forEach","location","index","LatLng","lat","lng","getLocationList","innerHTML","icon","newMarker","marker","addEventListener","event","addListener","setContent","concat","initialize","InfoWindow","Map","listener","panTo","getZoom","getPosition","setZoom","addDomListener","createElement","add","title","address","phone","setAttribute","markerIndex","getAttribute","trigger","appendChild","addMarkers","removeListener","window"],"mappings":"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","file":"GoogleMapController.min.js","sourcesContent":["let MapDOM = document.querySelector(\"#map\");\nlet BranchListDOM = document.querySelector(\".dealer-locator-list .list\");\nlet map,\n\tinfoWindow,\n\tmarkers = [];\nlet locationsInput = locationsInput || [];\nlet google = google || {};\nlet mapOption = {\n\tgestureHandling: \"cooperative\",\n\tzoom: 12,\n\tstyles: [\n\t\t{\n\t\t\tfeatureType: \"administrative\",\n\t\t\telementType: \"labels.text.fill\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tcolor: \"#444444\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"landscape\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tcolor: \"#f2f2f2\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"poi\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tvisibility: \"off\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"road\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tsaturation: -100,\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tlightness: 45,\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"road.highway\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tvisibility: \"simplified\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"road.arterial\",\n\t\t\telementType: \"labels.icon\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tvisibility: \"off\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"transit\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tvisibility: \"off\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t\t{\n\t\t\tfeatureType: \"water\",\n\t\t\telementType: \"all\",\n\t\t\tstylers: [\n\t\t\t\t{\n\t\t\t\t\tcolor: \"#0c6db5\",\n\t\t\t\t},\n\t\t\t\t{\n\t\t\t\t\tvisibility: \"on\",\n\t\t\t\t},\n\t\t\t],\n\t\t},\n\t],\n};\n\nconst addMarkers = () => {\n\tmarkers = [];\n\tconst bounds = new google.maps.LatLngBounds();\n\tlocationsInput.forEach((location, index) => {\n\t\tlet locationLatLng = new google.maps.LatLng(location.lat, location.lng);\n\t\tlet marker = new google.maps.Marker({\n\t\t\tmap: map,\n\t\t\ttitle: location.title,\n\t\t\tposition: locationLatLng,\n\t\t\ticon: location.icon,\n\t\t});\n\t\tbounds.extend(marker.position);\n\t\tmarkers.push(marker);\n\t\tshowInfoMarkerOnMap(marker, index);\n\t});\n\n\tmap.fitBounds(bounds);\n};\n\nconst showInfoMarkerOnMap = (marker, index) => {\n\tgoogle.maps.event.addListener(marker, \"click\", function () {\n\t\tinfoWindow.setContent(`\n\t\t\t\t<h3>${locationsInput[index].title}</h3>\n\t\t\t\t<p>${locationsInput[index].address}</p>\n\t\t\t\t<p>${locationsInput[index].phone}</p>\n\t\t\t`);\n\t\tinfoWindow.open(map, marker);\n\t\tmap.panTo(marker.getPosition());\n\t\tmap.setZoom(12);\n\t});\n\tgoogle.maps.event.addListener(map, \"click\", function () {\n\t\tinfoWindow.close();\n\t});\n};\n\nconst getLocationList = () => {\n\tif (BranchListDOM) {\n\t\tBranchListDOM.innerHTML = \"\";\n\t\tmarkers.forEach((marker, index) => {\n\t\t\tconst newMarker = document.createElement(\"div\");\n\t\t\tnewMarker.classList.add(\"dealer-locator-item\");\n\t\t\tnewMarker.innerHTML = `\n\t\t\t\t<h3>${locationsInput[index].title}</h3>\n\t\t\t\t<p>${locationsInput[index].address}</p>\n\t\t\t\t<p>${locationsInput[index].phone}</p>\n\t\t\t`;\n\t\t\tnewMarker.setAttribute(\"marker-id\", `${index}`);\n\t\t\tnewMarker.addEventListener(\"click\", () => {\n\t\t\t\tconst markerIndex = newMarker.getAttribute(\"marker-id\");\n\t\t\t\tgoogle.maps.event.trigger(markers[markerIndex], \"click\");\n\t\t\t});\n\t\t\tBranchListDOM.appendChild(newMarker);\n\t\t});\n\t}\n};\n\nconst initialize = () => {\n\tinfoWindow = new google.maps.InfoWindow();\n\tmap = new google.maps.Map(MapDOM, mapOption);\n\taddMarkers();\n\tlet listener = google.maps.event.addListener(map, \"idle\", () => {\n\t\tif (map.getZoom() > 12) {\n\t\t\tmap.setZoom(12);\n\t\t}\n\t\tgoogle.maps.event.removeListener(listener);\n\t});\n\tgoogle.maps.event.addListener(map, \"bounds_changed\", getLocationList);\n};\n\nif (MapDOM) {\n\tgoogle.maps.event.addDomListener(window, \"load\", initialize);\n\tif (BranchListDOM) {\n\t\tgetLocationList();\n\t}\n}\n"]}